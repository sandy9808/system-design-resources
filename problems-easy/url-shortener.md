Designing a URL shortener like TinyURL involves creating a service that takes long URLs and converts them to short unique URLs that redirect to the original. Requirements include generating short unique URLs for given long URLs redirecting users from short URLs to original URLs handling high read and write traffic ensuring short URLs are as brief as possible and optionally providing analytics on URL usage. The core components include an API server to handle requests a database to store URL mappings and a cache layer for frequently accessed URLs. For generating short URLs use base62 encoding which uses characters A-Z a-z and 0-9 providing 62 possible characters. A 7-character short URL gives 62^7 which is approximately 3.5 trillion possible URLs. The generation approach can use a counter-based method where you maintain a counter and encode its value or a hash-based method where you hash the long URL and take first 7 characters handling collisions with techniques like adding a random suffix. The database schema needs a table with columns like short_url long_url creation_date expiry_date and user_id. For scalability use database sharding based on hash of short URL implement read replicas for handling read-heavy traffic and use caching with Redis or Memcached for popular URLs. The redirect flow involves receiving a request for short URL checking cache for the mapping if not found querying the database updating the cache and returning HTTP 301 permanent redirect or 302 temporary redirect to the long URL. Additional features include custom short URLs where users can specify their own short URL expiration dates for temporary links analytics tracking clicks geographic data and referrers rate limiting to prevent abuse user accounts for managing URLs and API for programmatic access. For high availability deploy multiple API servers behind a load balancer use database replication with master-slave setup implement health checks and use CDN for static assets. Performance optimizations include using distributed cache connection pooling for databases async processing for analytics and database indexing on short_url column.